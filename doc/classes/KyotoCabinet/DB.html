<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: KyotoCabinet::DB [Kyoto Cabinet]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }<\/style>" )

  // ]]>
  </script>

</head>
<body>


    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">KyotoCabinet::DB</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>


                <a href="../../files/kyotocabinet_rb.html">

                kyotocabinet.rb

                </a>


        <br />

            </td>
        </tr>


        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>

                Object

            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">

  <div id="contextContent">

    <div id="description">
      <p>
Interface of database abstraction.
</p>

    </div>

   </div>


    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">

        <a href="#M000075">[]</a>&nbsp;&nbsp;

        <a href="#M000076">[]=</a>&nbsp;&nbsp;

        <a href="#M000038">accept</a>&nbsp;&nbsp;

        <a href="#M000039">accept_bulk</a>&nbsp;&nbsp;

        <a href="#M000042">add</a>&nbsp;&nbsp;

        <a href="#M000044">append</a>&nbsp;&nbsp;

        <a href="#M000057">begin_transaction</a>&nbsp;&nbsp;

        <a href="#M000047">cas</a>&nbsp;&nbsp;

        <a href="#M000053">clear</a>&nbsp;&nbsp;

        <a href="#M000037">close</a>&nbsp;&nbsp;

        <a href="#M000056">copy</a>&nbsp;&nbsp;

        <a href="#M000062">count</a>&nbsp;&nbsp;

        <a href="#M000069">cursor</a>&nbsp;&nbsp;

        <a href="#M000070">cursor_process</a>&nbsp;&nbsp;

        <a href="#M000078">delete</a>&nbsp;&nbsp;

        <a href="#M000060">dump_snapshot</a>&nbsp;&nbsp;

        <a href="#M000082">each</a>&nbsp;&nbsp;

        <a href="#M000083">each_key</a>&nbsp;&nbsp;

        <a href="#M000084">each_value</a>&nbsp;&nbsp;

        <a href="#M000058">end_transaction</a>&nbsp;&nbsp;

        <a href="#M000035">error</a>&nbsp;&nbsp;

        <a href="#M000079">fetch</a>&nbsp;&nbsp;

        <a href="#M000049">get</a>&nbsp;&nbsp;

        <a href="#M000052">get_bulk</a>&nbsp;&nbsp;

        <a href="#M000045">increment</a>&nbsp;&nbsp;

        <a href="#M000046">increment_double</a>&nbsp;&nbsp;

        <a href="#M000074">inspect</a>&nbsp;&nbsp;

        <a href="#M000040">iterate</a>&nbsp;&nbsp;

        <a href="#M000081">length</a>&nbsp;&nbsp;

        <a href="#M000061">load_snapshot</a>&nbsp;&nbsp;

        <a href="#M000066">match_prefix</a>&nbsp;&nbsp;

        <a href="#M000067">match_regex</a>&nbsp;&nbsp;

        <a href="#M000068">merge</a>&nbsp;&nbsp;

        <a href="#M000034">new</a>&nbsp;&nbsp;

        <a href="#M000055">occupy</a>&nbsp;&nbsp;

        <a href="#M000036">open</a>&nbsp;&nbsp;

        <a href="#M000064">path</a>&nbsp;&nbsp;

        <a href="#M000085">process</a>&nbsp;&nbsp;

        <a href="#M000048">remove</a>&nbsp;&nbsp;

        <a href="#M000051">remove_bulk</a>&nbsp;&nbsp;

        <a href="#M000043">replace</a>&nbsp;&nbsp;

        <a href="#M000041">set</a>&nbsp;&nbsp;

        <a href="#M000050">set_bulk</a>&nbsp;&nbsp;

        <a href="#M000080">shift</a>&nbsp;&nbsp;

        <a href="#M000063">size</a>&nbsp;&nbsp;

        <a href="#M000065">status</a>&nbsp;&nbsp;

        <a href="#M000077">store</a>&nbsp;&nbsp;

        <a href="#M000054">synchronize</a>&nbsp;&nbsp;

        <a href="#M000073">to_s</a>&nbsp;&nbsp;

        <a href="#M000059">transaction</a>&nbsp;&nbsp;

        <a href="#M000072">tune_encoding</a>&nbsp;&nbsp;

        <a href="#M000071">tune_exception_rule</a>&nbsp;&nbsp;

      </div>
    </div>

  </div>

    <!-- if includes -->

    <div id="section">

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">GEXCEPTIONAL</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 0</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
generic mode: exceptional mode

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">GCONCURRENT</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 1</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
generic mode: concurrent mode

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OREADER</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 0</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
open mode: open as a reader

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OWRITER</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 1</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
open mode: open as a writer

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OCREATE</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 2</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
open mode: writer creating

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OTRUNCATE</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 3</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
open mode: writer truncating

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OAUTOTRAN</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 4</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
open mode: auto transaction

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OAUTOSYNC</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 5</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
open mode: auto synchronization

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ONOLOCK</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 6</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
open mode: open without locking

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OTRYLOCK</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 7</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
open mode: lock without blocking

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ONOREPAIR</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 8</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
open mode: open without auto repair

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">MSET</td>
          <td>=</td>
          <td class="context-item-value">0</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
merge mode: overwrite the existing value

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">MADD</td>
          <td>=</td>
          <td class="context-item-value">1</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
merge mode: keep the existing value

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">MREPLACE</td>
          <td>=</td>
          <td class="context-item-value">2</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
merge mode: modify the existing record only

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">MAPPEND</td>
          <td>=</td>
          <td class="context-item-value">3</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
merge mode: append the new value

</td>

        </tr>

        </table>
      </div>
    </div>




    <!-- if method_list -->

    <div id="methods">

      <h3 class="section-bar">Public Class methods</h3>


      <div id="method-M000034" class="method-detail">
        <a name="M000034"></a>

        <div class="method-heading">

          <a href="DB.src/M000034.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000034.html');return false;">

          <span class="method-name">new</span><span class="method-args">(opts = 0)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Create a database object.
</p>
<ul>
<li><strong>@param <var>opts</var></strong> the optional features by
bitwise-or: DB::GEXCEPTIONAL for the exceptional mode, DB::GCONCURRENT for
the concurrent mode.

</li>
<li><strong>@return</strong> the database object.

</li>
<li><strong>@note</strong> The exceptional mode means that fatal errors caused
by methods are reported by exceptions raised. The concurrent mode means
that database operations by multiple threads are performed concurrently
without the giant VM lock. However, it has a side effect that such methods
with call back of Ruby code as <a href="DB.html#M000038">DB#accept</a>, <a
href="DB.html#M000039">DB#accept_bulk</a>, <a
href="DB.html#M000040">DB#iterate</a>, <a
href="DB.html#M000082">DB#each</a>, <a
href="DB.html#M000083">DB#each_key</a>, <a
href="DB.html#M000084">DB#each_value</a>, <a
href="Cursor.html#M000020">Cursor#accept</a> are disabled.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000085" class="method-detail">
        <a name="M000085"></a>

        <div class="method-heading">

          <a href="DB.src/M000085.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000085.html');return false;">

          <span class="method-name">process</span><span class="method-args">(path = &quot;*&quot;, mode = DB::OWRITER | DB::OCREATE, opts = 0)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Process a database by the block parameter.
</p>
<ul>
<li><strong>@param <var>path</var></strong> the same to the one of the open
method.

</li>
<li><strong>@param <var>mode</var></strong> the same to the one of the open
method.

</li>
<li><strong>@param <var>opts</var></strong> the optional features by
bitwise-or: DB::GCONCURRENT for the concurrent mode.

</li>
<li><strong>@block</strong> a block including operations for the database. The
block receives the database object. The database is opened with the given
parameters before the block and is closed implicitly after the block.

</li>
<li><strong>@return</strong> nil on success, or an error object on failure.

</li>
</ul>

        </div>
      </div>


      <h3 class="section-bar">Public Instance methods</h3>


      <div id="method-M000075" class="method-detail">
        <a name="M000075"></a>

        <div class="method-heading">

          <a href="DB.src/M000075.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000075.html');return false;">

          <span class="method-name">[]</span><span class="method-args">(key)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
An alias of <a href="DB.html#M000049">DB#get</a>.
</p>

        </div>
      </div>


      <div id="method-M000076" class="method-detail">
        <a name="M000076"></a>

        <div class="method-heading">

          <a href="DB.src/M000076.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000076.html');return false;">

          <span class="method-name">[]=</span><span class="method-args">(key, value)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
An alias of <a href="DB.html#M000077">DB#store</a>.
</p>

        </div>
      </div>


      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">

          <a href="DB.src/M000038.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000038.html');return false;">

          <span class="method-name">accept</span><span class="method-args">(key, visitor = nil, writable = true)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Accept a visitor to a record.
</p>
<ul>
<li><strong>@param <var>key</var></strong> the key.

</li>
<li><strong>@param <var>visitor</var></strong> a visitor object which
implements the <a href="Visitor.html">Visitor</a> interface. If it is
omitted, the block parameter is evaluated.

</li>
<li><strong>@param <var>writable</var></strong> true for writable operation, or
false for read-only operation.

</li>
<li><strong>@block</strong> If it is specified, the block is called as the
visitor.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
<li><strong>@note</strong> The operation for each record is performed
atomically and other threads accessing the same record are blocked. To
avoid deadlock, any explicit database operation must not be performed in
this method.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">

          <a href="DB.src/M000039.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000039.html');return false;">

          <span class="method-name">accept_bulk</span><span class="method-args">(keys, visitor = nil, writable = true)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Accept a visitor to multiple records at once.
</p>
<ul>
<li><strong>@param <var>keys</var></strong> specifies an array of the keys.

</li>
<li><strong>@param <var>visitor</var></strong> a visitor object which
implements the <a href="Visitor.html">Visitor</a> interface, or a function
object which receives the key and the value.

</li>
<li><strong>@param <var>writable</var></strong> true for writable operation, or
false for read-only operation.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
<li><strong>@note</strong> The operations for specified records are performed
atomically and other threads accessing the same records are blocked. To
avoid deadlock, any explicit database operation must not be performed in
this method.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000042" class="method-detail">
        <a name="M000042"></a>

        <div class="method-heading">

          <a href="DB.src/M000042.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000042.html');return false;">

          <span class="method-name">add</span><span class="method-args">(key, value)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Add a record.
</p>
<ul>
<li><strong>@param <var>key</var></strong> the key.

</li>
<li><strong>@param <var>value</var></strong> the value.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
<li><strong>@note</strong> If no record corresponds to the key, a new record is
created. If the corresponding record exists, the record is not modified and
false is returned.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000044" class="method-detail">
        <a name="M000044"></a>

        <div class="method-heading">

          <a href="DB.src/M000044.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000044.html');return false;">

          <span class="method-name">append</span><span class="method-args">(key, value)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Append the value of a record.
</p>
<ul>
<li><strong>@param <var>key</var></strong> the key.

</li>
<li><strong>@param <var>value</var></strong> the value.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
<li><strong>@note</strong> If no record corresponds to the key, a new record is
created. If the corresponding record exists, the given value is appended at
the end of the existing value.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000057" class="method-detail">
        <a name="M000057"></a>

        <div class="method-heading">

          <a href="DB.src/M000057.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000057.html');return false;">

          <span class="method-name">begin_transaction</span><span class="method-args">(hard = false)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Begin transaction.
</p>
<ul>
<li><strong>@param <var>hard</var></strong> true for physical synchronization
with the device, or false for logical synchronization with the file system.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000047" class="method-detail">
        <a name="M000047"></a>

        <div class="method-heading">

          <a href="DB.src/M000047.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000047.html');return false;">

          <span class="method-name">cas</span><span class="method-args">(key, oval, nval)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Perform compare-and-swap.
</p>
<ul>
<li><strong>@param <var>key</var></strong> the key.

</li>
<li><strong>@param <var>oval</var></strong> the old value. nil means that no
record corresponds.

</li>
<li><strong>@param <var>nval</var></strong> the new value. nil means that the
record is removed.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000053" class="method-detail">
        <a name="M000053"></a>

        <div class="method-heading">

          <a href="DB.src/M000053.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000053.html');return false;">

          <span class="method-name">clear</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Remove all records.
</p>
<ul>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">

          <a href="DB.src/M000037.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000037.html');return false;">

          <span class="method-name">close</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Close the database file.
</p>
<ul>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000056" class="method-detail">
        <a name="M000056"></a>

        <div class="method-heading">

          <a href="DB.src/M000056.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000056.html');return false;">

          <span class="method-name">copy</span><span class="method-args">(dest)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Create a copy of the database file.
</p>
<ul>
<li><strong>@param <var>dest</var></strong> the path of the destination file.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000062" class="method-detail">
        <a name="M000062"></a>

        <div class="method-heading">

          <a href="DB.src/M000062.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000062.html');return false;">

          <span class="method-name">count</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Get the number of records.
</p>
<ul>
<li><strong>@return</strong> the number of records, or -1 on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000069" class="method-detail">
        <a name="M000069"></a>

        <div class="method-heading">

          <a href="DB.src/M000069.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000069.html');return false;">

          <span class="method-name">cursor</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Create a cursor object.
</p>
<ul>
<li><strong>@return</strong> the return value is the created cursor object.
Each cursor should be disabled with the <a
href="Cursor.html#M000019">Cursor#disable</a> method when it is no longer
in use.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000070" class="method-detail">
        <a name="M000070"></a>

        <div class="method-heading">

          <a href="DB.src/M000070.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000070.html');return false;">

          <span class="method-name">cursor_process</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Process a cursor by the block parameter.
</p>
<ul>
<li><strong>@block</strong> a block including operations for the cursor. The
cursor is disabled implicitly after the block.

</li>
<li><strong>@return</strong> always nil.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000078" class="method-detail">
        <a name="M000078"></a>

        <div class="method-heading">

          <a href="DB.src/M000078.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000078.html');return false;">

          <span class="method-name">delete</span><span class="method-args">(key, value)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
An alias of <a href="DB.html#M000048">DB#remove</a>.
</p>

        </div>
      </div>


      <div id="method-M000060" class="method-detail">
        <a name="M000060"></a>

        <div class="method-heading">

          <a href="DB.src/M000060.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000060.html');return false;">

          <span class="method-name">dump_snapshot</span><span class="method-args">(dest)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Dump records into a snapshot file.
</p>
<ul>
<li><strong>@param <var>dest</var></strong> the name of the destination file.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000082" class="method-detail">
        <a name="M000082"></a>

        <div class="method-heading">

          <a href="DB.src/M000082.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000082.html');return false;">

          <span class="method-name">each</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Process each records with a iterator block.
</p>
<ul>
<li><strong>@block</strong> the iterator to receive the key and the value of
each record.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000083" class="method-detail">
        <a name="M000083"></a>

        <div class="method-heading">

          <a href="DB.src/M000083.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000083.html');return false;">

          <span class="method-name">each_key</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Process the key of each record with a iterator block.
</p>
<ul>
<li><strong>@block</strong> the iterator to receive the key of each record.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000084" class="method-detail">
        <a name="M000084"></a>

        <div class="method-heading">

          <a href="DB.src/M000084.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000084.html');return false;">

          <span class="method-name">each_value</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Process the value of each record with a iterator block.
</p>
<ul>
<li><strong>@block</strong> the iterator to receive the value of each record.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000058" class="method-detail">
        <a name="M000058"></a>

        <div class="method-heading">

          <a href="DB.src/M000058.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000058.html');return false;">

          <span class="method-name">end_transaction</span><span class="method-args">(commit = true)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
End transaction.
</p>
<ul>
<li><strong>@param <var>commit</var></strong> true to commit the transaction,
or false to abort the transaction.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000035" class="method-detail">
        <a name="M000035"></a>

        <div class="method-heading">

          <a href="DB.src/M000035.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000035.html');return false;">

          <span class="method-name">error</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Get the last happened error.
</p>
<ul>
<li><strong>@return</strong> the last happened error.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000079" class="method-detail">
        <a name="M000079"></a>

        <div class="method-heading">

          <a href="DB.src/M000079.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000079.html');return false;">

          <span class="method-name">fetch</span><span class="method-args">(key, value)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
An alias of <a href="DB.html#M000049">DB#get</a>.
</p>

        </div>
      </div>


      <div id="method-M000049" class="method-detail">
        <a name="M000049"></a>

        <div class="method-heading">

          <a href="DB.src/M000049.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000049.html');return false;">

          <span class="method-name">get</span><span class="method-args">(key)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Retrieve the value of a record.
</p>
<ul>
<li><strong>@param <var>key</var></strong> the key.

</li>
<li><strong>@return</strong> the value of the corresponding record, or nil on
failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000052" class="method-detail">
        <a name="M000052"></a>

        <div class="method-heading">

          <a href="DB.src/M000052.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000052.html');return false;">

          <span class="method-name">get_bulk</span><span class="method-args">(keys, atomic = true)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Retrieve records at once.
</p>
<ul>
<li><strong>@param <var>keys</var></strong> an array of the keys of the records
to retrieve.

</li>
<li><strong>@param <var>atomic</var></strong> true to perform all operations
atomically, or false for non-atomic operations.

</li>
<li><strong>@return</strong> a hash of retrieved records, or nil on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000045" class="method-detail">
        <a name="M000045"></a>

        <div class="method-heading">

          <a href="DB.src/M000045.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000045.html');return false;">

          <span class="method-name">increment</span><span class="method-args">(key, num = 0)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Add a number to the numeric integer value of a record.
</p>
<ul>
<li><strong>@param <var>key</var></strong> the key.

</li>
<li><strong>@param <var>num</var></strong> the additional number.

</li>
<li><strong>@return</strong> the result value, or nil on failure.

</li>
<li><strong>@note</strong> If no record corresponds to the key, a new record is
created with the initial value set by the additional value. The value is
serialized as an 8-byte binary integer in big-endian order, not a decimal
string. If existing value is not 8-byte, this method fails.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000046" class="method-detail">
        <a name="M000046"></a>

        <div class="method-heading">

          <a href="DB.src/M000046.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000046.html');return false;">

          <span class="method-name">increment_double</span><span class="method-args">(key, num = 0)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Add a number to the numeric double value of a record.
</p>
<ul>
<li><strong>@param <var>key</var></strong> the key.

</li>
<li><strong>@param <var>num</var></strong> the additional number.

</li>
<li><strong>@return</strong> the result value, or nil on failure.

</li>
<li><strong>@note</strong> If no record corresponds to the key, a new record is
created with the initial value set by the additional value. The value is
serialized as an 16-byte binary fixed-point number in big-endian order, not
a decimal string. If existing value is not 16-byte, this method fails.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000074" class="method-detail">
        <a name="M000074"></a>

        <div class="method-heading">

          <a href="DB.src/M000074.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000074.html');return false;">

          <span class="method-name">inspect</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Get the inspection string.
</p>
<ul>
<li><strong>@return</strong> the inspection string.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000040" class="method-detail">
        <a name="M000040"></a>

        <div class="method-heading">

          <a href="DB.src/M000040.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000040.html');return false;">

          <span class="method-name">iterate</span><span class="method-args">(visitor, writable = true)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Iterate to accept a visitor for each record.
</p>
<ul>
<li><strong>@param <var>visitor</var></strong> a visitor object which
implements the <a href="Visitor.html">Visitor</a> interface. If it is
omitted, the block parameter is evaluated.

</li>
<li><strong>@param <var>writable</var></strong> true for writable operation, or
false for read-only operation.

</li>
<li><strong>@block</strong> If it is specified, the block is called as the
visitor.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
<li><strong>@note</strong> The whole iteration is performed atomically and
other threads are blocked. To avoid deadlock, any explicit database
operation must not be performed in this method.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000081" class="method-detail">
        <a name="M000081"></a>

        <div class="method-heading">

          <a href="DB.src/M000081.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000081.html');return false;">

          <span class="method-name">length</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
An alias of <a href="DB.html#M000062">DB#count</a>.
</p>

        </div>
      </div>


      <div id="method-M000061" class="method-detail">
        <a name="M000061"></a>

        <div class="method-heading">

          <a href="DB.src/M000061.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000061.html');return false;">

          <span class="method-name">load_snapshot</span><span class="method-args">(src)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Load records from a snapshot file.
</p>
<ul>
<li><strong>@param <var>src</var></strong> the name of the source file.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000066" class="method-detail">
        <a name="M000066"></a>

        <div class="method-heading">

          <a href="DB.src/M000066.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000066.html');return false;">

          <span class="method-name">match_prefix</span><span class="method-args">(prefix, max = -1)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Get keys matching a prefix string.
</p>
<ul>
<li><strong>@param <var>prefix</var></strong> the prefix string.

</li>
<li><strong>@param <var>max</var></strong> the maximum number to retrieve. If
it is negative, no limit is specified.

</li>
<li><strong>@return</strong> an array of matching keys, or nil on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000067" class="method-detail">
        <a name="M000067"></a>

        <div class="method-heading">

          <a href="DB.src/M000067.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000067.html');return false;">

          <span class="method-name">match_regex</span><span class="method-args">(regex, max = -1)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Get keys matching a regular expression string.
</p>
<ul>
<li><strong>@param <var>regex</var></strong> the regular expression string.

</li>
<li><strong>@param <var>max</var></strong> the maximum number to retrieve. If
it is negative, no limit is specified.

</li>
<li><strong>@return</strong> an array of matching keys, or nil on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000068" class="method-detail">
        <a name="M000068"></a>

        <div class="method-heading">

          <a href="DB.src/M000068.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000068.html');return false;">

          <span class="method-name">merge</span><span class="method-args">(srcary, mode = DB::MSET)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Merge records from other databases.
</p>
<ul>
<li><strong>@param <var>srcary</var></strong> an array of the source detabase
objects.

</li>
<li><strong>@param <var>mode</var></strong> the merge mode. DB::MSET to
overwrite the existing value, DB::MADD to keep the existing value,
DB::MAPPEND to append the new value.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000055" class="method-detail">
        <a name="M000055"></a>

        <div class="method-heading">

          <a href="DB.src/M000055.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000055.html');return false;">

          <span class="method-name">occupy</span><span class="method-args">(writable = false, proc = nil)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Occupy database by locking and do something meanwhile.
</p>
<ul>
<li><strong>@param <var>writable</var></strong> true to use writer lock, or
false to use reader lock.

</li>
<li><strong>@param <var>proc</var></strong> a processor object which implements
the <a href="FileProcessor.html">FileProcessor</a> interface. If it is nil,
no processing is performed.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
<li><strong>@note</strong> The operation of the processor is performed
atomically and other threads accessing the same record are blocked. To
avoid deadlock, any explicit database operation must not be performed in
this method.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000036" class="method-detail">
        <a name="M000036"></a>

        <div class="method-heading">

          <a href="DB.src/M000036.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000036.html');return false;">

          <span class="method-name">open</span><span class="method-args">(path = &quot;:&quot;, mode = DB::OWRITER | DB::OCREATE)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Open a database file.
</p>
<ul>
<li><strong>@param <var>path</var></strong> the path of a database file. If it
is &#8220;-&#8221;, the database will be a prototype hash database. If it
is &#8220;+&#8221;, the database will be a prototype tree database. If it
is &#8220;:&#8221;, the database will be a stash database. If it is
&#8220;*&#8221;, the database will be a cache hash database. If it is
&#8220;%&#8221;, the database will be a cache tree database. If its suffix
is &#8220;.kch&#8221;, the database will be a file hash database. If its
suffix is &#8220;.kct&#8221;, the database will be a file tree database. If
its suffix is &#8220;.kcd&#8221;, the database will be a directory hash
database. If its suffix is &#8220;.kcf&#8221;, the database will be a
directory tree database. Otherwise, this function fails. Tuning parameters
can trail the name, separated by &#8220;#&#8221;. Each parameter is
composed of the name and the value, separated by &#8220;=&#8221;. If the
&#8220;type&#8221; parameter is specified, the database type is determined
by the value in &#8220;-&#8221;, &#8220;+&#8221;, &#8220;:&#8221;,
&#8220;*&#8221;, &#8220;%&#8221;, &#8220;kch&#8221;, &#8220;kct&#8221;,
&#8220;kcd&#8221;, and &#8220;kcf&#8221;. All database types support the
logging parameters of &#8220;log&#8221;, &#8220;logkinds&#8221;, and
&#8220;logpx&#8221;. The prototype hash database and the prototype tree
database do not support any other tuning parameter. The stash database
supports &#8220;bnum&#8221;. The cache hash database supports
&#8220;opts&#8221;, &#8220;bnum&#8221;, &#8220;zcomp&#8221;,
&#8220;capcnt&#8221;, &#8220;capsiz&#8221;, and &#8220;zkey&#8221;. The
cache tree database supports all parameters of the cache hash database
except for capacity limitation, and supports &#8220;psiz&#8221;,
&#8220;rcomp&#8221;, &#8220;pccap&#8221; in addition. The file hash
database supports &#8220;apow&#8221;, &#8220;fpow&#8221;,
&#8220;opts&#8221;, &#8220;bnum&#8221;, &#8220;msiz&#8221;,
&#8220;dfunit&#8221;, &#8220;zcomp&#8221;, and &#8220;zkey&#8221;. The file
tree database supports all parameters of the file hash database and
&#8220;psiz&#8221;, &#8220;rcomp&#8221;, &#8220;pccap&#8221; in addition.
The directory hash database supports &#8220;opts&#8221;,
&#8220;zcomp&#8221;, and &#8220;zkey&#8221;. The directory tree database
supports all parameters of the directory hash database and
&#8220;psiz&#8221;, &#8220;rcomp&#8221;, &#8220;pccap&#8221; in addition.

</li>
<li><strong>@param <var>mode</var></strong> the connection mode. DB::OWRITER as
a writer, DB::OREADER as a reader. The following may be added to the writer
mode by bitwise-or: DB::OCREATE, which means it creates a new database if
the file does not exist, DB::OTRUNCATE, which means it creates a new
database regardless if the file exists, DB::OAUTOTRAN, which means each
updating operation is performed in implicit transaction, DB::OAUTOSYNC,
which means each updating operation is followed by implicit synchronization
with the file system. The following may be added to both of the reader mode
and the writer mode by bitwise-or: DB::ONOLOCK, which means it opens the
database file without file locking, DB::OTRYLOCK, which means locking is
performed without blocking, DB::ONOREPAIR, which means the database file is
not repaired implicitly even if file destruction is detected.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
<li><strong>@note</strong> The tuning parameter &#8220;log&#8221; is for the
original &#8220;tune_logger&#8220; and the value specifies the path of the
log file, or &#8220;-&#8221; for the standard output, or &#8220;+&#8221;
for the standard error. &#8220;logkinds&#8221; specifies kinds of logged
messages and the value can be &#8220;debug&#8221;, &#8220;info&#8221;,
&#8220;warn&#8221;, or &#8220;error&#8221;. &#8220;logpx&#8221; specifies
the prefix of each log message. &#8220;opts&#8221; is for
&#8220;tune_options&#8220; and the value can contain &#8220;s&#8221; for
the small option, &#8220;l&#8221; for the linear option, and
&#8220;c&#8221; for the compress option. &#8220;bnum&#8221; corresponds to
&#8220;tune_bucket&#8220;. &#8220;zcomp&#8221; is for
&#8220;tune_compressor&#8220; and the value can be &#8220;zlib&#8221; for
the ZLIB raw compressor, &#8220;def&#8221; for the ZLIB deflate compressor,
&#8220;gz&#8221; for the ZLIB gzip compressor, &#8220;lzo&#8221; for the
LZO compressor, &#8220;lzma&#8221; for the LZMA compressor, or
&#8220;arc&#8221; for the Arcfour cipher. &#8220;zkey&#8221; specifies the
cipher key of the compressor. &#8220;capcnt&#8221; is for
&#8220;cap_count&#8220;. &#8220;capsiz&#8221; is for
&#8220;cap_size&#8220;. &#8220;psiz&#8221; is for &#8220;tune_page&#8220;.
&#8220;rcomp&#8221; is for &#8220;tune_comparator&#8220; and the value can
be &#8220;lex&#8221; for the lexical comparator, &#8220;dec&#8221; for the
decimal comparator, &#8220;lexdesc&#8221; for the lexical descending
comparator, or &#8220;decdesc&#8221; for the decimal descending comparator.
&#8220;pccap&#8221; is for &#8220;tune_page_cache&#8220;.
&#8220;apow&#8221; is for &#8220;tune_alignment&#8220;. &#8220;fpow&#8221;
is for &#8220;tune_fbp&#8220;. &#8220;msiz&#8221; is for
&#8220;tune_map&#8220;. &#8220;dfunit&#8221; is for
&#8220;tune_defrag&#8220;. Every opened database must be closed by the
PolyDB::close method when it is no longer in use. It is not allowed for two
or more database objects in the same process to keep their connections to
the same database file at the same time.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000064" class="method-detail">
        <a name="M000064"></a>

        <div class="method-heading">

          <a href="DB.src/M000064.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000064.html');return false;">

          <span class="method-name">path</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Get the path of the database file.
</p>
<ul>
<li><strong>@return</strong> the path of the database file, or nil on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000048" class="method-detail">
        <a name="M000048"></a>

        <div class="method-heading">

          <a href="DB.src/M000048.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000048.html');return false;">

          <span class="method-name">remove</span><span class="method-args">(key)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Remove a record.
</p>
<ul>
<li><strong>@param <var>key</var></strong> the key.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
<li><strong>@note</strong> If no record corresponds to the key, false is
returned.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000051" class="method-detail">
        <a name="M000051"></a>

        <div class="method-heading">

          <a href="DB.src/M000051.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000051.html');return false;">

          <span class="method-name">remove_bulk</span><span class="method-args">(keys, atomic = true)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Remove records at once.
</p>
<ul>
<li><strong>@param <var>keys</var></strong> an array of the keys of the records
to remove.

</li>
<li><strong>@param <var>atomic</var></strong> true to perform all operations
atomically, or false for non-atomic operations.

</li>
<li><strong>@return</strong> the number of removed records, or -1 on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000043" class="method-detail">
        <a name="M000043"></a>

        <div class="method-heading">

          <a href="DB.src/M000043.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000043.html');return false;">

          <span class="method-name">replace</span><span class="method-args">(key, value)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Replace the value of a record.
</p>
<ul>
<li><strong>@param <var>key</var></strong> the key.

</li>
<li><strong>@param <var>value</var></strong> the value.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
<li><strong>@note</strong> If no record corresponds to the key, no new record
is created and false is returned. If the corresponding record exists, the
value is modified.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000041" class="method-detail">
        <a name="M000041"></a>

        <div class="method-heading">

          <a href="DB.src/M000041.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000041.html');return false;">

          <span class="method-name">set</span><span class="method-args">(key, value)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Set the value of a record.
</p>
<ul>
<li><strong>@param <var>key</var></strong> the key.

</li>
<li><strong>@param <var>value</var></strong> the value.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
<li><strong>@note</strong> If no record corresponds to the key, a new record is
created. If the corresponding record exists, the value is overwritten.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000050" class="method-detail">
        <a name="M000050"></a>

        <div class="method-heading">

          <a href="DB.src/M000050.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000050.html');return false;">

          <span class="method-name">set_bulk</span><span class="method-args">(recs, atomic = true)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Store records at once.
</p>
<ul>
<li><strong>@param <var>recs</var></strong> a hash of the records to store.

</li>
<li><strong>@param <var>atomic</var></strong> true to perform all operations
atomically, or false for non-atomic operations.

</li>
<li><strong>@return</strong> the number of stored records, or -1 on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000080" class="method-detail">
        <a name="M000080"></a>

        <div class="method-heading">

          <a href="DB.src/M000080.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000080.html');return false;">

          <span class="method-name">shift</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Remove the first record.
</p>
<ul>
<li><strong>@return</strong> a pair of the key and the value of the removed
record, or nil on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000063" class="method-detail">
        <a name="M000063"></a>

        <div class="method-heading">

          <a href="DB.src/M000063.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000063.html');return false;">

          <span class="method-name">size</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Get the size of the database file.
</p>
<ul>
<li><strong>@return</strong> the size of the database file in bytes, or -1 on
failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000065" class="method-detail">
        <a name="M000065"></a>

        <div class="method-heading">

          <a href="DB.src/M000065.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000065.html');return false;">

          <span class="method-name">status</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Get the miscellaneous status information.
</p>
<ul>
<li><strong>@return</strong> a hash of the status information, or nil on
failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000077" class="method-detail">
        <a name="M000077"></a>

        <div class="method-heading">

          <a href="DB.src/M000077.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000077.html');return false;">

          <span class="method-name">store</span><span class="method-args">(key, value)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
An alias of <a href="DB.html#M000077">DB#store</a>.
</p>

        </div>
      </div>


      <div id="method-M000054" class="method-detail">
        <a name="M000054"></a>

        <div class="method-heading">

          <a href="DB.src/M000054.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000054.html');return false;">

          <span class="method-name">synchronize</span><span class="method-args">(hard = false, proc = nil)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Synchronize updated contents with the file and the device.
</p>
<ul>
<li><strong>@param <var>hard</var></strong> true for physical synchronization
with the device, or false for logical synchronization with the file system.

</li>
<li><strong>@param <var>proc</var></strong> a postprocessor object which
implements the <a href="FileProcessor.html">FileProcessor</a> interface. If
it is nil, no postprocessing is performed.

</li>
<li><strong>@block</strong> If it is specified, the block is called for
postprocessing.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
<li><strong>@note</strong> The operation of the processor is performed
atomically and other threads accessing the same record are blocked. To
avoid deadlock, any explicit database operation must not be performed in
this method.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000073" class="method-detail">
        <a name="M000073"></a>

        <div class="method-heading">

          <a href="DB.src/M000073.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000073.html');return false;">

          <span class="method-name">to_s</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Get the string expression.
</p>
<ul>
<li><strong>@return</strong> the string expression.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000059" class="method-detail">
        <a name="M000059"></a>

        <div class="method-heading">

          <a href="DB.src/M000059.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000059.html');return false;">

          <span class="method-name">transaction</span><span class="method-args">(hard = false)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Perform entire transaction by the block parameter.
</p>
<ul>
<li><strong>@param <var>hard</var></strong> true for physical synchronization
with the device, or false for logical synchronization with the file system.

</li>
<li><strong>@block</strong> a block including operations during transaction. If
the block returns true, the transaction is committed. If the block returns
false or an exception is thrown, the transaction is aborted.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000072" class="method-detail">
        <a name="M000072"></a>

        <div class="method-heading">

          <a href="DB.src/M000072.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000072.html');return false;">

          <span class="method-name">tune_encoding</span><span class="method-args">(enc)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Set the encoding of external strings.
</p>
<ul>
<li><strong>@param <var>enc</var></strong> the name of the encoding or its
encoding object.

</li>
<li><strong>@note</strong> The default encoding of external strings is
Encoding::ASCII_8BIT.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>


      <div id="method-M000071" class="method-detail">
        <a name="M000071"></a>

        <div class="method-heading">

          <a href="DB.src/M000071.html" target="Code" class="method-signature"
            onclick="popupCode('DB.src/M000071.html');return false;">

          <span class="method-name">tune_exception_rule</span><span class="method-args">(codes)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Set the rule about throwing exception.
</p>
<ul>
<li><strong>@param <var>codes</var></strong> an array of error codes. If each
method occurs an error corresponding to one of the specified codes, the
error is thrown as an exception.

</li>
<li><strong>@return</strong> true on success, or false on failure.

</li>
</ul>

        </div>
      </div>



    </div>




  </div>

<div id="validator-badges">
</div>

</body>
</html>
